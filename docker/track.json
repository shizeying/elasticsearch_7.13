{
  "version": 2,
  "title": "test",
  "description": "测试一次任务",
  "indices": [
    {
      "name": "test"
    }
  ],
  "operations": [
    {
      "name": "force-merge",
      "operation-type": "force-merge"
    },
    {
      "name": "match-all-query",
      "operation-type": "search",
      "body": {
        "query": {
          "match_all": {}
        }
      }
    }
  ],
  "corpora": [
    {
      "name": "data1",
      "documents": [
        {
          "source-file": "output.json",
          "target-index": "test",
          "document-count": 124846,
          "target-body": {
            "settings": {
              "index.number_of_replicas": 1,
              "index.number_of_shards": 1,
              "index.codec": "best_compression"
            }
          }
        }
      ]
    }
  ],
  "schedule": [
    {
      "parallel": {
        "iterations": 5000,
        "warmup-iterations": 1000,
        "target-throughput": 100,
        "clients": 10,
        "tasks": [
          {
            "name": "bulk test",
            "operation": {
              "operation-type": "bulk",
              "corpora": "data1",
              "bulk-size": 10000
            }
          },
          {
            "name": "force-merge test",
            "operation": {
              "operation-type": "force-merge",
              "corpora": "force-merge"
            }
          }
//        ,
//          {
//            "name": "search test",
//            "method": "GET",
//            "path": "test/_search",
//            "operation": "match-all-query"
//          }
        ]
      }
    }
  ]
}
